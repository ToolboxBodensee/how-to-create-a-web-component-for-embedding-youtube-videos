<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Youtube Embed</title>
	<script src="./bower_components/webcomponentsjs/webcomponents.min.js"></script>
	<link rel="stylesheet" href="css/style.css">
	<link rel="import" href="youtube-embed.html">
</head>
<body>

	<header class="site-header clearfix">
		<h1>Youtube Web Component</h1>
		<a class="back-to-article" href="">Back to the Tutorial</a>
	</header>

	<div class="wrapper">


		<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestias mollitia possimus cumque cupiditate non enim veritatis iusto voluptas, officiis numquam?</p>

		<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestias mollitia possimus cumque cupiditate non enim veritatis.</p>

		<youtube-embed embed="AqcjdkPMPJA"></youtube-embed>

		<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet at id nobis, voluptas autem ex dolor, a! A asperiores pariatur nesciunt, excepturi voluptatem, dolor odio molestias in, inventore, itaque et.</p>



		<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perspiciatis aliquid possimus omnis voluptatem provident minus molestiae. Tempora eligendi labore hic provident, ad sed dignissimos, facere maiores alias officiis voluptatibus facilis?</p>
	</div>
	<script>
		( function() {

			var youtube = document.querySelectorAll( ".youtube" );

			for (var i = 0; i < youtube.length; i++) {

				var source = "https://img.youtube.com/vi/"+ youtube[i].dataset.embed +"/sddefault.jpg";

				var image = new Image();
				image.src = source;
				image.addEventListener( "load", function() {
					youtube[ i ].appendChild( image );
				}( i ) );

				youtube[i].addEventListener( "click", function() {

					var iframe = document.createElement( "iframe" );

					iframe.setAttribute( "frameborder", "0" );
					iframe.setAttribute( "allowfullscreen", "" );
					iframe.setAttribute( "src", "https://www.youtube.com/embed/"+ this.dataset.embed +"?rel=0&showinfo=0&autoplay=1" );

					this.innerHTML = "";
					this.appendChild( iframe );
				} );
			};
		} )();
	</script>
</body>
</html>
